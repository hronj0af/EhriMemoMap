@inject MapState MapState
@inject IStringLocalizer<CommonResources> cl
@inject NavigationManager NavManager

<RadzenButton Style="@style.ButtonStyle" title="@(cl["home"] + "...")" ButtonStyle="ButtonStyle.Dark" Variant="Variant.Filled" Click="(() => ShowHome())"><RadzenIcon Icon="home" /></RadzenButton>

@code {
    [Parameter]
    public int Order { get; set; }

    [Parameter]
    public PositionEnum Position { get; set; }


    (string ButtonStyle, string BoxStyle) style;

    protected override async Task OnInitializedAsync()
    {
        style = await MapState.GetStyleOfMapComponent(Position, Order);
        MapState.OnChange += OnMyChangeHandler;
    }

    public void Dispose()
    {
        MapState.OnChange -= OnMyChangeHandler;
    }

    private async void OnMyChangeHandler()
    {
        await InvokeAsync(() =>
        {
            StateHasChanged();
        });
    }

    private void ShowHome()
    {
        NavManager.NavigateTo("/", true);
    }
}