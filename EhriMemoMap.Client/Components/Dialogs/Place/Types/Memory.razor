@using System.Xml;
@using System.Xml.Linq;
@inject IStringLocalizer<CommonResources> cl

<RadzenRow class="rz-mb-4">
    <RadzenCard Style="width:100%">
        @if (Place.City == "ricany")
        {
            if (Place.Type == "stolpersteine_set")
            {
                <h3>@cl["memoryType_" + Place.Type]</h3>
            }
            else
            {
                <h3>
                    @((CultureInfo.CurrentCulture.Name == "en-US" ? Place.LabelEn : Place.LabelCs) ?? "")
                </h3>
            }
        }
        else
        {
            <h3>@cl["memoryType_" + Place.Type]</h3>
        }
        <h5 class="rz-mb-4">@(CultureInfo.CurrentCulture.Name == "en-US" ? Place.AddressEn : Place.AddressCs)</h5>
        @if (!string.IsNullOrEmpty(Place.DescriptionCs))
        {
            <p class="rz-mb-4">
                @((MarkupString)((CultureInfo.CurrentCulture.Name == "en-US" ? Place.DescriptionEn?.Nl2Br() : Place.DescriptionCs?.Nl2Br()) ?? ""))
            </p>
        }
        @if (Place.City == "ricany") 
        {
            <ul class="no-bullets">
                @if (Place.CreationDate != null)
                {
                    <li>
                        <b>@cl["date_of_laying"]:</b> @Place.CreationDate?.ToString("d. M. yyyy", CultureInfo.CurrentCulture)
                    </li>
                }
                @if (!string.IsNullOrEmpty(Place.InscriptionCs))
                {
                    <li>
                        <b>@cl["inscription"]:</b> @((MarkupString)((CultureInfo.CurrentCulture.Name == "en-US" ? Place.InscriptionEn?.Nl2Br() : Place.InscriptionCs?.Nl2Br()) ?? ""))
                    </li>
                }
            </ul>
        }
    </RadzenCard>
</RadzenRow>

@foreach (var item in Place.Items)
{
    <RadzenRow class="rz-mb-4">
        <RadzenCard Style="width:100%">
            <h3>@item.LabelCs</h3>
            @if (Place.City == "prague")
            {
                <ul class="no-bullets">
                    <li>
                        <a href="@item.LinkStolpersteineCs" target="_blank">
                            www.stolpersteinecz.cz
                        </a>
                    </li>
                    <li>
                        <a href="@item.LinkHolocaustCs" target="_blank">
                            www.holocaust.cz
                        </a>
                    </li>
                </ul>
            }

            @if (Place.City == "ricany")
            {
                <ul class="no-bullets">
                    <li>
                        <b>@cl["date_of_laying"]:</b> @item.CreationDate?.ToString("d. M. yyyy", CultureInfo.CurrentCulture)
                    </li>
                    <li>
                        <b>@cl["inscription"]:</b> @((MarkupString)((CultureInfo.CurrentCulture.Name == "en-US" ? item.InscriptionEn?.Nl2Br() : item.InscriptionCs?.Nl2Br()) ?? ""))
                    </li>
                </ul>
            }
        </RadzenCard>
    </RadzenRow>
}

@code {
    [Parameter]
    public PlaceMemory Place { get; set; }
}
