@inject IStringLocalizer<CommonResources> cl
@inject MapService MapService

<DialogButtons />

@switch (MapService.DialogType)
{
    case DialogTypeEnum.Help:
        <Help />
        break;
    case DialogTypeEnum.Layers:
        <Layers />
        break;
    case DialogTypeEnum.Search:
        <Search />
        break;
    case DialogTypeEnum.Place:
        <Place />
        break;
    case DialogTypeEnum.Timeline:
        <TimelineDialogWrapper />
        break;
    case DialogTypeEnum.StoryMap:
        <StoryMap />
        break;
    case DialogTypeEnum.Victim:
        <Victim />
        break;
    case DialogTypeEnum.Welcome:
        <Welcome />
        break;
}

@code {

    protected override void OnInitialized()
    {
        MapService.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        MapService.OnChange -= StateHasChanged;
    }
}