@inject IStringLocalizer<CommonResources> cl
@inject MapStateService MapState

<DialogButtons />

@switch (MapState.DialogType)
{
    case DialogTypeEnum.Help:
        <Help />
        break;
    case DialogTypeEnum.Layers:
        <Layers />
        break;
    case DialogTypeEnum.AllCities:
        <AllCities />
        break;
    case DialogTypeEnum.Search:
        <Search />
        break;
    case DialogTypeEnum.Place:
        <Place />
        break;
    case DialogTypeEnum.Timeline:
        <Timeline />
        break;
    case DialogTypeEnum.StoryMap:
        <StoryMap />
        break;
    case DialogTypeEnum.Victim:
        <Victim />
        break;
    case DialogTypeEnum.Welcome:
        <Welcome />
        break;
}

@code {

    protected override void OnInitialized()
    {
        MapState.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        MapState.OnChange -= StateHasChanged;
    }
}